
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->


# 安全基本概念

## 知其所需/最小特权
知其所需->权限->访问信息的能力，因工作需要才需要访问，信息保持秘密状态
最小特权->特权(权限->读和执行，特权->写入、创建、更改或删除)
权利(授权权限的数量)
聚合(收集权限数量)->特权蠕动
信任传递()


## 职责分离
确保没有任何一个人可破坏系统或安全
- 特权分离
- 任务分解
SOX->所有向美国证券交易委员会(SEC)注册了股票或债务证券的上市公司
- 双人控制 双人制

## 特权账户管理
## 强制休假
一般是一周到两周
## 岗位轮换
交叉培训
## 信息生命周期
数据分类->标记和处理

## 服务水平协议SLA
组织与外部实体->性能(最大停机)->罚款
MOU/ISA



# 日常运营

## 应用资源保护

### 介质管理

磁带介质
移动设备(MDM->加密、屏幕锁定、GPS和远程擦除)
介质管理生命周期(平均故障时间(MTTF)->使用寿命长达30年，重复使用多达250次)

硬件和软件资产管理
硬件->条形码/RFID
软件->许可，微软system center configureation manager（SCCM）->查询网络上所有系统的服务器产品
保护物理资产->
管理虚拟资产->VM，VDI/VDE,SDN,VSAN，hypervisor(虚拟机管理程序)
云资产->SaaS,PaaS(无应用),IaaS(用户安装os)


## 实施和支持补丁和漏洞管理
### 系统管理
### 补丁管理
Equifax->2017年5月发起的攻击利用struts应用程序漏洞
评估->测试->审批->部署->验证/完成部署
### 漏洞管理
识别、评估、采取措施
## 变更管理
目标->不会导致意外中断，审批、测试和记录
### 安全影响分析
请求变更->审核变更->批准/拒绝变更->测试变更->实施变更->记录变更(相关方知悉变更、回滚)
### 版本控制
### 配置文档

## 解决人员安全问题
人员安全是安全运营的一个重要因素

### 出差
敏感数据
恶意软件和监控设备
免费Wi-Fi
VPN
### 安全意识和培训
### 应急管理
### 胁迫
报警按钮
暗语或短语

## 开展日志记录和监测活动
事件->指会对机构资产的保密性、完整性或可用性产生负面影响的任何事态(服务中断,服务质量下降)
- 未遂的网络入侵
- 未遂的DoS
- 恶意软件
- 数据未授权访问
- 安全策略的违背行为
事件->SP800-61

检测>响应>抑制>报告>恢复>补救>总结教训>>检测


## 入侵检测和预防
预防->规避,减少->事件发生
### 基础预防措施
系统和应用程序即时更新
移除或禁用不需要的服务和协议
IPS
mcafee
firewall
变更流程

Mirai->IoT攻击
### 安全信息和事件管理(SIEM)
多个数据源->聚合和关联
交换机端口映射流量的叫SPAN端口
IDPS->入侵检测和预防系统

### 持续监测
### 出口监测

## 攻击方法 
- 僵尸网络(牧羊人)
- DoS(DRDoS-分布式反射型)
- SYN洪水 (TCP会话复位->FIN/RST)
- Smurf(放大攻击) ->icmp回声包(受害者ip充当源ip地址的欺骗性广播ping请求)->1999年 RFC 2644 正确配置路由防止广播ping
- Fraggle(放大攻击)，udp的7和19端口
- ping洪水
- 死亡之ping （超大ping数据包) ->正常的是32或64位，ping达到64KB
- 泪滴 将通信流分割成碎片，打破顺序
- LAND攻击 受害者的ip->源ip，目标ip地址
- 0day
- 恶意代码 - 偷渡式下载
- 中间人攻击 （MIMT)
- 蓄意破坏
- 间谍活动


### 防火墙
第一代->隔离
第二代->额外的过滤功能
第三代->状态检查、动态包过滤防火墙
第四代->UTM->包过滤、状态检测、包检查技术、拦截恶意流量


### 入侵检测和预防系统（IDPS)
- 知识检测/行为检测

### 黑白名单
### 第三方提供的安全服务
渗透测试(道德黑客)
### 沙箱
### 蜜罐/密网
诱惑
诱捕-非法
### 反恶意软件


# 安全事件调查


目标->保护资产，识别威胁和漏洞，实施控制

## 调查流程

标识
保存
收集
检查
分析
呈现
决定

## 调查和道德
### 调查
专业的人、专业的的技术、专业的工具、做的专业的事情
- 行政调查
解决业务问题
- 犯罪调查
执法者进行

- 民事调查
内部员工和外部顾问代表法律团队的工作->解决双方纠纷

- 监管调查
政府工作人员执行

## 电子发现
信息治理->识别->保存->收集->处理->检查->分析->产生->呈现

## 证据
真实、相关、合法获得(胜任)

最佳证据->原始文档
口头证据->书面形式的 
证据链->关联，必要和作证能力
## 计算机犯罪分类
军事和情报
商业攻击
财务
恐怖
恶意
兴奋

### 受信恢复
恢复过程 -> 失败准备 -> 系统恢复及容错 
        -> 系统恢复 -> 单用户、非、特权状态

#### 手动恢复
无故障防护->故障->手动恢复

#### 自动恢复
系统自动执行受信恢复->RAID硬盘

#### 无过度损失的自动恢复
能够保护特定对象免受损失的机制

#### 功能恢复
恢复功能

### QoS
带宽
延迟时间->数据包从源到目的所需时间
抖动->不同数据包之间的延迟变化
数据包丢失->丢失，重传
干扰->电噪声、故障设备等因素损坏数据包的内容


# 事件管理

## 应急响应
事件清单，优先级

### 人员通知
人员清单->联系方式->备选人

### 评估
评估现状

### 备份和离站存储
备份策略
完整
增量
差异

磁带轮换->祖父-父亲-儿子、汉诺塔、六磁带
商用备份软件->全自动分层存储管理(HSM)

### 软件托管协议
防止开发商破产，将软件托管到第三方平台

### 外部通信

### 测试与维护
通读测试、结构化演练(桌面练习)、模拟测试、并行测试和完整中断测试

## 安全配置资源

### 资产清单
### 资产管理
### 配置管理
#### 基线
系统初始配置
检查清单(checklist)创建基线
#### 使用镜像技术创建基线


## 实施事件管理
### 检测
### 响应
不包括对攻击者反击，反击是违法的，而且可能是无效的
CIRT-计算机事件响应小组
CSIRT-计算机安全事件响应团队
需要保护现场->起诉

### 抑制
止损

### 报告
上报->相关部门和官员
严重程度->根据法律->要求上报
### 恢复
重建->备份，变更管理
### 补救
根本原因分析
### 总结/教训
总结->报告->提高检测




# 灾难备份与恢复

## 业务单元的优先顺序
标识，决定优先顺序->BIA->业务优先级列表

## 危机管理
最先恢复措施培训->保安、技术人员

## 应急通信
内部和外部通信

## 工作组恢复
### 可替代的工作站点
站点最好是一天车程内，防止与主站点一起故障

- 冷站点(便宜，启用时间长)
只有物理空间->仓库、办公大楼->无硬件和可能有备用线路，铜质电话线软件->

- 温站点
12个小时
无数据的热站点

- 热站点(昂贵、维护)
完整的服务器、工作站和通信线路，有备份数据->启用时需要导入数据
切换时间可能是分钟到小时

- 移动站点
服务局- 有功能的服务器集群

多站点

## 数据库恢复
### 电子链接
数据库备份->批量传送到远处的某个场所
### 远程日志
更快方式传输数据->通常每小时或更短时间

### 远程镜像(昂贵)
实施热站点时一种流行的数据库备份策略

### 恢复开发计划
文档类型:
- 执行概要->管理层
- 具体部门计划
- 负责实现和维护关键备份系统的IT
- 灾难恢复团队的人员清单
- 为重要灾难恢复团队成员准备的完整计划副本